# YouTube Channel Viewer 仕様書

## 1. 画面レイアウト
### 1.1 全体構成
- 3カラムレイアウト（5分割グリッド）
  - 左側（1/5）: 動画リスト
    - スクロール可能な動画一覧
    - 各動画カードは以下の情報を表示
      - サムネイル画像（16:9アスペクト比）
      - 動画タイトル（2行まで表示、ツールチップで全文表示）
      - 公開日時
      - 動画時間（右下に表示）
    - 視聴済み動画は半透明表示
    - 選択中の動画はハイライト表示
    - 無限スクロール対応
  - 中央（3/5）: 動画プレーヤー
    - YouTube埋め込みプレーヤー
    - 自動再生対応
    - 16:9アスペクト比を維持
    - 閉じるボタン（右上）
  - 右側（1/5）: コメント欄
    - スクロール可能なコメント一覧
    - 各コメントの表示内容
      - 投稿者名
      - 投稿日時
      - コメント本文（HTML形式対応）
      - いいね数
    - 返信コメントの表示
    - 無限スクロール対応
    - コメントがない場合はメッセージを表示

### 1.2 ヘッダー部分
- パンくずリスト
  - ホームへのリンク
  - チャンネル名（チャンネルアイコン付き）
- チャンネル説明文（2行まで表示）

### 1.3 ナビゲーション機能
- 表示モード切替
  - グリッド表示/リスト表示
  - 視聴済み動画の表示/非表示
  - 視聴済み動画の自動非表示
- 更新ボタン
- 視聴履歴
- ブラックリスト設定

## 2. 機能詳細
### 2.1 動画リスト機能
- 表示モード
  - グリッドモード
    - 5カラムグリッドで動画を表示
    - 各動画カードはサムネイル、タイトル、公開日を表示
    - 動画時間をサムネイル右下に表示
  - リストモード
    - 1カラムで動画を表示
    - 各動画はサムネイル、タイトル、公開日を表示
    - 選択中の動画はハイライト表示

- 動画管理機能
  - 視聴済み動画の管理
    - 視聴済み動画の表示/非表示切り替え
    - 視聴済み動画の半透明表示
    - 自動的に次を再生するオプション
  - ブラックリスト機能
    - 特定の動画を非表示に設定
    - ブラックリストの管理（追加/削除）
  - 視聴履歴
    - 過去に視聴した動画の一覧表示
    - 視聴履歴からの動画再生

- 動画読み込み機能
  - 無限スクロールによる追加読み込み
  - 読み込み中の表示（ローディングスピナー）
  - 更新ボタンによる最新情報の取得

### 2.2 動画プレーヤー機能
- YouTube埋め込みプレーヤー
  - 自動再生対応
  - 16:9アスペクト比を維持
  - モダストブランディング（YouTubeロゴを最小限に）
  - 関連動画の非表示

- 動画操作
  - 閉じるボタンによるプレーヤー終了
  - 動画終了時の自動処理
    - 視聴済みとしてマーク
    - 次の動画の自動再生（オプション）

### 2.3 コメント機能
- コメント表示
  - コメントの一覧表示
  - 各コメントの表示内容
    - 投稿者名
    - 投稿日時
    - コメント本文（HTML形式対応）
    - いいね数
  - 返信コメントの表示
    - インデント付きで表示
    - 背景色を変更して区別

- コメント読み込み
  - 無限スクロールによる追加読み込み
  - 読み込み中の表示
  - コメントがない場合のメッセージ表示

### 2.4 チャンネル情報表示
- ヘッダー部分
  - パンくずリスト
    - ホームへのリンク
    - チャンネル名（チャンネルアイコン付き）
  - チャンネル説明文
    - 2行まで表示
    - 省略された場合は全文をツールチップで表示

### 2.5 エラーハンドリング
- APIエラー対応
  - APIキー未設定時のエラー表示
  - チャンネル情報取得失敗時のエラー表示
  - コメント取得失敗時のエラー表示
  - 動画が見つからない場合の表示

- エラー表示
  - エラーメッセージは日本語で表示
  - エラー発生時は適切なフォールバックUIを表示
  - エラー発生時の再試行オプション

### 2.6 データ永続化
- ローカルストレージの活用
  - 視聴済み動画の記録
  - 表示設定の保存
  - ブラックリストの管理

## 3. 制限事項
### 3.1 ブラウザ制限
- ブラウザの自動再生ポリシー
- モバイルデバイスでの自動再生制限

## 4. 今後の改善点
- 無限スクロール対応
- コメントのページネーション
- 動画の検索機能
- チャンネル情報の表示
- レスポンシブデザインの強化 